{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","api/pixabay.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","props","state","value","handleInput","e","setState","target","name","submitForm","preventDefault","onSubmit","className","styles","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autocomplete","autofocus","placeholder","onChange","Component","key","defaultParams","domain","searchQuery","axios","get","then","response","data","hits","page","ImageGalleryItem","id","webformatURL","tags","largeImageURL","onImageClick","onClick","src","alt","ImageGalleryItem_image","ImageGallery","isLoading","gallery","map","item","style","margin","gridColumnStart","gridColumnEnd","color","height","width","Modal","handleKeyUp","code","closeOverlay","onClickOverlay","overlay","overlayRef","current","createRef","window","addEventListener","removeEventListener","modalImage","ref","Overlay","App","canDownloadMore","ps","showImage","prevProps","prevState","pixabay","resp","imgaes","length","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5fadc0ed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__aOmNj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\nclass Searchbar extends Component {\n  constructor(props) {\n    super(props);\n    this.onSubmit = this.props.onSubmit;\n  }\n  state = {\n    value: '',\n  };\n  handleInput = e => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n  submitForm = e => {\n    e.preventDefault();\n    this.onSubmit(this.state.value);\n  };\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.submitForm}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            name=\"value\"\n            className={styles.SearchForm_input}\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            value={this.state.value}\n            onChange={this.handleInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from 'axios';\nconst key = '15495221-fb25808b8cc2e505368d60253';\nconst defaultParams = 'image_type=photo&orientation=horizontal&per_page=12';\nconst domain = 'https://pixabay.com/api/';\nconst fetchImagesWithQuery = searchQuery => {\n  return axios\n    .get(`${domain}?q=${searchQuery}&page=1&key=${key}&${defaultParams}`)\n    .then(response => response.data.hits);\n};\nconst fetchMoreImgages = (searchQuery, page) => {\n  return axios\n    .get(`${domain}?q=${searchQuery}&page=${page}&key=${key}&${defaultParams}`)\n    .then(response => response.data.hits);\n};\nexport default {\n  fetchImagesWithQuery,\n  fetchMoreImgages,\n};\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nexport const ImageGalleryItem = ({\n  id,\n  webformatURL,\n  tags,\n  largeImageURL,\n  onImageClick,\n}) => {\n  const handleClickImage = () => {\n    onImageClick(largeImageURL);\n  };\n  return (\n    <li className={styles.ImageGalleryItem} onClick={handleClickImage}>\n      <img\n        key={id}\n        src={webformatURL}\n        alt={tags}\n        className={styles.ImageGalleryItem_image}\n      />\n    </li>\n  );\n};\n","import React from 'react';\nimport styles from './ImageGallery.module.css';\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nexport const ImageGallery = ({ isLoading, gallery = [], onImageClick }) => {\n  const styleLoader = {\n    margin: '0px auto',\n    gridColumnStart: 1,\n    gridColumnEnd: 3,\n  };\n  return (\n    <>\n      <ul className={styles.ImageGallery}>\n        {gallery.map(item => {\n          const { id, webformatURL, tags, largeImageURL } = item;\n          return (\n            <ImageGalleryItem\n              id={id}\n              largeImageURL={largeImageURL}\n              webformatURL={webformatURL}\n              tags={tags}\n              onImageClick={onImageClick}\n            />\n          );\n        })}\n        {isLoading && (\n          <Loader\n            style={styleLoader}\n            type=\"TailSpin\"\n            color=\"#3f51b5\"\n            height={100}\n            width={100}\n          />\n        )}\n      </ul>\n    </>\n  );\n};\n","import React, { createRef, Component } from 'react';\nimport styles from './Modal.module.css';\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n    this.overlayRef = createRef();\n  }\n  handleKeyUp = e => {\n    if (e.code === 'Escape') {\n      this.props.closeOverlay();\n    }\n  };\n  componentDidMount() {\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  onClickOverlay = e => {\n    const overlay = this.overlayRef.current;\n    if (e.target === overlay) {\n      this.props.closeOverlay();\n    }\n  };\n  render() {\n    const { modalImage } = this.props;\n    return (\n      <div\n        onClick={this.onClickOverlay}\n        ref={this.overlayRef}\n        className={styles.Overlay}\n      >\n        <div className={styles.Modal}>\n          <img src={modalImage} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport Searchbar from '../Searchbar/Searchbar';\nimport pixabay from '../../api/pixabay';\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\nimport Modal from '../Modal/Modal';\n\nclass App extends Component {\n  state = {\n    value: '',\n    gallery: [],\n    isLoading: false,\n    modalImage: '',\n    page: 1,\n    canDownloadMore: false,\n  };\n  onSubmit = value => {\n    this.setState(ps => {\n      return {\n        ...ps,\n        value,\n      };\n    });\n  };\n  closeOverlay = () => {\n    this.setState(() => {\n      return {\n        modalImage: '',\n      };\n    });\n  };\n  onImageClick = modalImage => {\n    this.setState(() => {\n      return {\n        modalImage,\n      };\n    });\n  };\n  showImage = modalImage => {\n    this.setState(() => {\n      return {\n        modalImage,\n      };\n    });\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.value !== this.state.value) {\n      this.setState(() => {\n        return {\n          isLoading: true,\n          gallery: [],\n        };\n      });\n      pixabay.fetchImagesWithQuery(this.state.value).then(resp => {\n        const imgaes = resp.map(item => {\n          return {\n            id: item.id,\n            webformatURL: item.webformatURL,\n            tags: item.tags,\n            largeImageURL: item.largeImageURL,\n          };\n        });\n        this.setState(() => {\n          return {\n            isLoading: false,\n            gallery: imgaes,\n            canDownloadMore: imgaes.length === 12,\n            page: 1,\n          };\n        });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n    }\n    if (prevState.page !== this.state.page) {\n      this.setState(() => {\n        return {\n          isLoading: true,\n        };\n      });\n      pixabay.fetchMoreImgages(this.state.value, this.state.page).then(resp => {\n        const imgaes = resp.map(item => {\n          return {\n            id: item.id,\n            webformatURL: item.webformatURL,\n            tags: item.tags,\n            largeImageURL: item.largeImageURL,\n          };\n        });\n\n        this.setState(ps => {\n          return {\n            isLoading: false,\n            gallery: [...ps.gallery, ...imgaes],\n          };\n        });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n\n        <ImageGallery\n          isLoading={this.state.isLoading}\n          gallery={this.state.gallery}\n          onImageClick={this.onImageClick}\n        />\n        {this.state.modalImage && (\n          <Modal\n            closeOverlay={this.closeOverlay}\n            modalImage={this.state.modalImage}\n          />\n        )}\n        {this.state.canDownloadMore && !this.state.isLoading && (\n          <button\n            onClick={() => {\n              this.setState(ps => {\n                return {\n                  page: ps.page + 1,\n                };\n              });\n            }}\n          >\n            download More\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './main.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3eKQ3\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__5zUwS\",\"SearchForm_input\":\"Searchbar_SearchForm_input__11BIx\"};"],"sourceRoot":""}