{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","api/pixabay.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","props","state","value","handleInput","e","setState","target","name","submitForm","preventDefault","onSubmit","className","styles","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autocomplete","autofocus","placeholder","onChange","Component","searchQuery","axios","get","then","response","data","hits","ImageGalleryItem","id","webformatURL","tags","largeImageURL","onImageClick","onClick","key","src","alt","ImageGalleryItem_image","ImageGallery","isLoading","gallery","style","margin","color","height","width","timeout","map","item","Modal","handleKeyUp","code","closeOverlay","clickOverlay","overlay","overlayRef","current","createRef","window","addEventListener","removeEventListener","modalImage","ref","Overlay","App","isVisibleModal","ps","showImage","prevProps","prevState","pixabay","resp","imgaes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f95d92f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__aOmNj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\nclass Searchbar extends Component {\n  constructor(props) {\n    super(props);\n    this.onSubmit = this.props.onSubmit;\n  }\n  state = {\n    value: '',\n  };\n  handleInput = e => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n  submitForm = e => {\n    e.preventDefault();\n    this.onSubmit(this.state.value);\n  };\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.submitForm}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            name=\"value\"\n            className={styles.SearchForm_input}\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            value={this.state.value}\n            onChange={this.handleInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from 'axios';\nconst key = '15495221-fb25808b8cc2e505368d60253';\nconst defaultParams = 'image_type=photo&orientation=horizontal&per_page=12';\nconst domain = 'https://pixabay.com/api/';\nconst fetchImagesWithQuery = searchQuery => {\n  return axios\n    .get(`${domain}?q=${searchQuery}&page=1&key=${key}&${defaultParams}`)\n    .then(response => response.data.hits);\n};\n\nexport default {\n  fetchImagesWithQuery,\n};\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nexport const ImageGalleryItem = ({\n  id,\n  webformatURL,\n  tags,\n  largeImageURL,\n  onImageClick,\n}) => {\n  const handleClickImage = () => {\n    onImageClick(largeImageURL);\n  };\n  return (\n    <li className={styles.ImageGalleryItem} onClick={handleClickImage}>\n      <img\n        key={id}\n        src={webformatURL}\n        alt={tags}\n        className={styles.ImageGalleryItem_image}\n      />\n    </li>\n  );\n};\n","import React from 'react';\nimport styles from './ImageGallery.module.css';\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nexport const ImageGallery = ({ isLoading, gallery = [], onImageClick }) => {\n  return (\n    <>\n      {isLoading && (\n        <Loader\n          style={{\n            margin: '0 auto',\n          }}\n          type=\"TailSpin\"\n          color=\"#3f51b5\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n      )}\n      <ul className={styles.ImageGallery}>\n        {gallery.map(item => {\n          const { id, webformatURL, tags, largeImageURL } = item;\n          return (\n            <ImageGalleryItem\n              id={id}\n              largeImageURL={largeImageURL}\n              webformatURL={webformatURL}\n              tags={tags}\n              onImageClick={onImageClick}\n            />\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n","import React, { createRef, Component } from 'react';\nimport styles from './Modal.module.css';\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n    this.overlayRef = createRef();\n  }\n  handleKeyUp = e => {\n    if (e.code === 'Escape') {\n      this.props.closeOverlay();\n    }\n  };\n  componentDidMount() {\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  clickOverlay = e => {\n    const overlay = this.overlayRef.current;\n    if (e.target === overlay) {\n      this.props.closeOverlay();\n    }\n  };\n  render() {\n    const { modalImage } = this.props;\n    return (\n      <div\n        onClick={this.clickOverlay}\n        ref={this.overlayRef}\n        className={styles.Overlay}\n      >\n        <div className={styles.Modal}>\n          <img src={modalImage} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport Searchbar from '../Searchbar/Searchbar';\nimport pixabay from '../../api/pixabay';\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\nimport Modal from '../Modal/Modal';\n\nclass App extends Component {\n  state = {\n    value: '',\n    gallery: [],\n    isLoading: false,\n    modalImage: '',\n    isVisibleModal: false,\n  };\n  onSubmit = value => {\n    this.setState(ps => {\n      return {\n        ...ps,\n        value,\n      };\n    });\n  };\n  closeOverlay = () => {\n    this.setState(() => {\n      return {\n        modalImage: '',\n        isVisibleModal: false,\n      };\n    });\n  };\n  onImageClick = modalImage => {\n    this.setState(() => {\n      return {\n        modalImage,\n        isVisibleModal: true,\n      };\n    });\n  };\n  showImage = modalImage => {\n    this.setState(() => {\n      return {\n        modalImage,\n        isVisibleModal: true,\n      };\n    });\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.value !== this.state.value) {\n      this.setState(() => {\n        return {\n          isLoading: true,\n          gallery: [],\n        };\n      });\n      pixabay.fetchImagesWithQuery(this.state.value).then(resp => {\n        const imgaes = resp.map(item => {\n          return {\n            id: item.id,\n            webformatURL: item.webformatURL,\n            tags: item.tags,\n            largeImageURL: item.largeImageURL,\n          };\n        });\n        this.setState(() => {\n          return {\n            isLoading: false,\n            gallery: imgaes,\n          };\n        });\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n\n        <ImageGallery\n          isLoading={this.state.isLoading}\n          gallery={this.state.gallery}\n          onImageClick={this.onImageClick}\n        />\n        {this.state.isVisibleModal && (\n          <Modal\n            closeOverlay={this.closeOverlay}\n            modalImage={this.state.modalImage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './main.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3eKQ3\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__5zUwS\",\"SearchForm_input\":\"Searchbar_SearchForm_input__11BIx\"};"],"sourceRoot":""}